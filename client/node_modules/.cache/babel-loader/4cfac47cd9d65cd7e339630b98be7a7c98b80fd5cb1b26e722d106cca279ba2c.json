{"ast":null,"code":"var _jsxFileName = \"/Users/sabdullahi/Desktop/projects /project-10-react_resptapi/client/src/Context.js\";\nimport React, { Component } from \"react\";\nimport Data from \"./Data\";\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/React.createContext();\nexport class Provider extends Component {\n  constructor() {\n    super();\n    this.signIn = async (username, password) => {\n      const user = await this.data.getUser(username, password);\n      const plainText = password;\n      if (user !== null) {\n        user.password = plainText;\n        this.setState(() => {\n          return {\n            authenticatedUser: user\n          };\n        });\n        Cookies.set(\"authenticatedUser\", JSON.stringify(user), {\n          expires: 1\n        });\n      }\n      return user;\n    };\n    this.signOut = () => {\n      this.setState({\n        authenticatedUser: null\n      });\n      Cookies.remove(\"authenticatedUser\");\n    };\n    this.data = new Data();\n    this.cookie = Cookies.get(\"authenticatedUser\");\n    this.state = {\n      authenticatedUser: this.cookie ? JSON.parse(this.cookie) : null\n    };\n  }\n  render() {\n    const {\n      authenticatedUser\n    } = this.state;\n    const value = {\n      authenticatedUser,\n      data: this.data,\n      actions: {\n        signIn: this.signIn,\n        signOut: this.signOut\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(Context.Provider, {\n      value: value,\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport const Consumer = Context.Consumer;\nexport default function withContext(Component) {\n  return function ContextComponent(props) {\n    return /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: context => /*#__PURE__*/_jsxDEV(Component, {\n        ...props,\n        context: context\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  };\n}","map":{"version":3,"names":["React","Component","Data","Cookies","Context","createContext","Provider","constructor","signIn","username","password","user","data","getUser","plainText","setState","authenticatedUser","set","JSON","stringify","expires","signOut","remove","cookie","get","state","parse","render","value","actions","props","children","Consumer","withContext","ContextComponent","context"],"sources":["/Users/sabdullahi/Desktop/projects /project-10-react_resptapi/client/src/Context.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Data from \"./Data\";\n\nimport Cookies from \"js-cookie\";\n\nconst Context = React.createContext();\n\nexport class Provider extends Component {\n  constructor() {\n    super();\n    this.data = new Data();\n\n    this.cookie = Cookies.get(\"authenticatedUser\");\n    this.state = {\n      authenticatedUser: this.cookie ? JSON.parse(this.cookie) : null,\n    };\n  }\n\n  render() {\n    const { authenticatedUser } = this.state;\n    const value = {\n      authenticatedUser,\n      data: this.data,\n      actions: {\n        signIn: this.signIn,\n        signOut: this.signOut,\n      },\n    };\n    return (\n      <Context.Provider value={value}>{this.props.children}</Context.Provider>\n    );\n  }\n\n  signIn = async (username, password) => {\n    const user = await this.data.getUser(username, password);\n    const plainText = password;\n\n    if (user !== null) {\n      user.password = plainText;\n      this.setState(() => {\n        return {\n          authenticatedUser: user,\n        };\n      });\n      \n      Cookies.set(\"authenticatedUser\", JSON.stringify(user), { expires: 1 });\n    }\n    return user;\n  };\n\n  \n  signOut = () => {\n    this.setState({ authenticatedUser: null });\n    Cookies.remove(\"authenticatedUser\");\n  };\n}\n\nexport const Consumer = Context.Consumer;\n\n\n\nexport default function withContext(Component) {\n  return function ContextComponent(props) {\n    return (\n      <Context.Consumer>\n        {(context) => <Component {...props} context={context} />}\n      </Context.Consumer>\n    );\n  };\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,IAAI,MAAM,QAAQ;AAEzB,OAAOC,OAAO,MAAM,WAAW;AAAC;AAEhC,MAAMC,OAAO,gBAAGJ,KAAK,CAACK,aAAa,EAAE;AAErC,OAAO,MAAMC,QAAQ,SAASL,SAAS,CAAC;EACtCM,WAAW,GAAG;IACZ,KAAK,EAAE;IAAC,KAwBVC,MAAM,GAAG,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;MACrC,MAAMC,IAAI,GAAG,MAAM,IAAI,CAACC,IAAI,CAACC,OAAO,CAACJ,QAAQ,EAAEC,QAAQ,CAAC;MACxD,MAAMI,SAAS,GAAGJ,QAAQ;MAE1B,IAAIC,IAAI,KAAK,IAAI,EAAE;QACjBA,IAAI,CAACD,QAAQ,GAAGI,SAAS;QACzB,IAAI,CAACC,QAAQ,CAAC,MAAM;UAClB,OAAO;YACLC,iBAAiB,EAAEL;UACrB,CAAC;QACH,CAAC,CAAC;QAEFR,OAAO,CAACc,GAAG,CAAC,mBAAmB,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC,EAAE;UAAES,OAAO,EAAE;QAAE,CAAC,CAAC;MACxE;MACA,OAAOT,IAAI;IACb,CAAC;IAAA,KAGDU,OAAO,GAAG,MAAM;MACd,IAAI,CAACN,QAAQ,CAAC;QAAEC,iBAAiB,EAAE;MAAK,CAAC,CAAC;MAC1Cb,OAAO,CAACmB,MAAM,CAAC,mBAAmB,CAAC;IACrC,CAAC;IA5CC,IAAI,CAACV,IAAI,GAAG,IAAIV,IAAI,EAAE;IAEtB,IAAI,CAACqB,MAAM,GAAGpB,OAAO,CAACqB,GAAG,CAAC,mBAAmB,CAAC;IAC9C,IAAI,CAACC,KAAK,GAAG;MACXT,iBAAiB,EAAE,IAAI,CAACO,MAAM,GAAGL,IAAI,CAACQ,KAAK,CAAC,IAAI,CAACH,MAAM,CAAC,GAAG;IAC7D,CAAC;EACH;EAEAI,MAAM,GAAG;IACP,MAAM;MAAEX;IAAkB,CAAC,GAAG,IAAI,CAACS,KAAK;IACxC,MAAMG,KAAK,GAAG;MACZZ,iBAAiB;MACjBJ,IAAI,EAAE,IAAI,CAACA,IAAI;MACfiB,OAAO,EAAE;QACPrB,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBa,OAAO,EAAE,IAAI,CAACA;MAChB;IACF,CAAC;IACD,oBACE,QAAC,OAAO,CAAC,QAAQ;MAAC,KAAK,EAAEO,KAAM;MAAA,UAAE,IAAI,CAACE,KAAK,CAACC;IAAQ;MAAA;MAAA;MAAA;IAAA,QAAoB;EAE5E;AAwBF;AAEA,OAAO,MAAMC,QAAQ,GAAG5B,OAAO,CAAC4B,QAAQ;AAIxC,eAAe,SAASC,WAAW,CAAChC,SAAS,EAAE;EAC7C,OAAO,SAASiC,gBAAgB,CAACJ,KAAK,EAAE;IACtC,oBACE,QAAC,OAAO,CAAC,QAAQ;MAAA,UACbK,OAAO,iBAAK,QAAC,SAAS;QAAA,GAAKL,KAAK;QAAE,OAAO,EAAEK;MAAQ;QAAA;QAAA;QAAA;MAAA;IAAG;MAAA;MAAA;MAAA;IAAA,QACvC;EAEvB,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}